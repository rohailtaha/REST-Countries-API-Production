(this["webpackJsonpcountries-api"]=this["webpackJsonpcountries-api"]||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(16),s=c.n(r),o=c(13),i=c.n(o),u=c(17),l=c(6),j=c(8),b=c(2),d=c(0);var m=function(){var e=Object(n.useContext)(J);return Object(d.jsxs)(j.b,{to:"/",className:"home-btn elements-bg--".concat(e,"-theme"),children:[Object(d.jsx)("img",{src:"/resources/images/".concat(e===U.LIGHT?"black":"white"," back arrow.svg"),alt:"back arrow"}),Object(d.jsx)("span",{children:"Home"})]})};var O=function(e){var t=e.flag,c=e.countryName;return Object(d.jsx)("div",{className:"country__flag",children:Object(d.jsx)("img",{src:t,alt:"Flag of ".concat(c)})})};var h=function(e){var t=e.countryCode,c=e.children;return Object(d.jsx)(j.b,{to:"/country details/".concat(t),children:c})};var g=function(e){var t=e.name,c=e.code,a=Object(n.useContext)(J);return Object(d.jsx)("li",{className:"country__neighbour elements-bg--".concat(a,"-theme"),children:Object(d.jsx)(h,{countryCode:c,children:t})})};var x=function(e){var t=e.borderCountries,c=Object(n.useContext)(V);return Object(d.jsx)("ul",{className:"country__neighbours__list",children:c.filter((function(e){return t.includes(e.alpha3Code)})).map((function(e){return Object(d.jsx)(g,{name:e.name,code:e.alpha3Code},e.alpha3Code)}))})};var f=function(e){var t=e.borderCountries;return Object(d.jsxs)("div",{className:"country__neighbours",children:[Object(d.jsx)("h3",{children:"Border Countries:"}),0===t.length?Object(d.jsx)("span",{className:"country__neighbours__empty-msg",children:" None "}):Object(d.jsx)(x,{borderCountries:t})]})};var v=function(e){var t=e.data,c=t.name,n=t.nativeName,a=t.population,r=t.region,s=t.subregion,o=t.capital,i=t.topLevelDomain,u=t.currencies,l=t.languages,j=t.borders;return Object(d.jsxs)("div",{className:"country__data",children:[Object(d.jsx)("h1",{className:"country__name",children:c}),Object(d.jsxs)("div",{className:"country__facts",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Native Name:"}),Object(d.jsx)("span",{className:"country__fact__value",children:n})]}),Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Population:"}),Object(d.jsx)("span",{className:"country__fact__value",children:a})]}),Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Region:"}),Object(d.jsx)("span",{className:"country__fact__value",children:r})]}),Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Sub Region:"}),Object(d.jsx)("span",{className:"country__fact__value",children:s})]}),Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Capital:"}),Object(d.jsx)("span",{className:"country__fact__value",children:o})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Top Level Domain:"}),Object(d.jsx)("span",{className:"country__fact__value",children:i})]}),Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Currencies:"}),Object(d.jsx)("span",{className:"country__fact__value",children:u})]}),Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Languages:"}),Object(d.jsx)("span",{className:"country__fact__value",children:l})]})]})]}),Object(d.jsx)(f,{borderCountries:j})]})};var p=function(e){var t=e.country,c=t.flag,n=t.name,a=t.population,r=t.region,s=t.subregion,o=t.capital,i=t.nativeName,u=t.topLevelDomain,l=t.currencies,j=t.languages,b=t.borders;return Object(d.jsxs)("section",{className:"country",children:[Object(d.jsx)(O,{flag:c,countryName:n}),Object(d.jsx)(v,{data:{name:n,nativeName:i,population:a.toLocaleString(),region:r,capital:o,subregion:s,topLevelDomain:u,currencies:l.map((function(e){return e.name})).join(", "),languages:j.map((function(e){return e.name})).join(", "),borders:b}})]})};var _=function(){var e=Object(n.useContext)(V),t=Object(b.g)().countryCode;return Object(d.jsx)("main",{className:"main--country-details",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(m,{}),Object(d.jsx)(p,{country:e.find((function(e){return e.alpha3Code===t}))})]})})};var N=function(e){var t=e.population,c=e.region,n=e.capital,a=e.name;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"country__name",children:a}),Object(d.jsxs)("div",{className:"country__facts",children:[Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Population:"}),Object(d.jsx)("span",{className:"country__fact__value",children:t})]}),Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Region:"}),Object(d.jsx)("span",{className:"country__fact__value",children:c})]}),Object(d.jsxs)("div",{className:"country__fact",children:[Object(d.jsx)("h3",{className:"country__fact__name",children:"Capital:"}),Object(d.jsx)("span",{className:"country__fact__value",children:n})]})]})]})};var y=function(e){var t=e.country,c=t.flag,a=t.name,r=t.population,s=t.region,o=t.capital,i=t.alpha3Code,u=Object(n.useContext)(J);return Object(d.jsx)("li",{className:"country elements-bg--".concat(u,"-theme"),children:Object(d.jsxs)(h,{countryCode:i,children:[Object(d.jsx)(O,{flag:c,countryName:a}),Object(d.jsx)(N,{population:r.toLocaleString(),region:s,capital:o,name:a})]})})};var C=function(e){var t=e.countries;return Object(d.jsx)("ul",{className:"countries-list",children:t.map((function(e){return Object(d.jsx)(y,{country:e},e.alpha3Code)}))})};var w=function(e){var t=e.name,c=e.setName,a=Object(n.useContext)(J);return Object(d.jsx)("input",{type:"text",name:"country",className:"country-input elements-bg--".concat(a,"-theme country-input--").concat(a,"-theme"),placeholder:"Search for a country...",value:t,onChange:function(e){c(e.target.value)}})};var k=function(e){var t=e.region,c=e.setRegion,n=e.selected;return Object(d.jsx)("li",{onClick:function(){return c(t)},className:n?"selected":"",role:"button",tabIndex:"0",onKeyUp:function(e){13!==e.keyCode&&"ENTER"!==e.key||c(t)},children:t})};var L=function(e){var t=e.closeFilters,c=e.region,a=e.setRegion;Object(n.useEffect)((function(){var e=function(){n()||t()},c=function(e){13!==e.keyCode&&"ENTER"!==e.key||n()||t()},n=function(){return null===document.querySelector(".main--home .region-filter-options")};return document.addEventListener("click",e),document.addEventListener("keyup",c),function(){document.removeEventListener("click",e),document.removeEventListener("keyup",c)}}),[t]);var r=Object(n.useContext)(J);return Object(d.jsx)(n.Fragment,{children:Object(d.jsx)("ul",{className:"region-filter-options elements-bg--".concat(r,"-theme"),children:Object(d.jsx)("div",{children:Object.keys(z).map((function(e,t){return Object(d.jsx)(k,{region:z[e],setRegion:a,selected:z[e]===c},t)}))})})})};var P=function(e){var t=e.region,c=e.setRegion,a=Object(n.useState)(!1),r=Object(l.a)(a,2),s=r[0],o=r[1],i=Object(n.useContext)(J),u=function(){return o(!s)};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"region-filter elements-bg--".concat(i,"-theme"),onClick:u,onKeyUp:function(e){13!==e.keyCode&&"ENTER"!==e.key||u()},role:"button",tabIndex:"0",children:[Object(d.jsx)("span",{children:t}),Object(d.jsx)("img",{src:"resources/images/".concat(i===U.LIGHT?"black":"white"," down arrow.svg"),alt:"down arrow"})]}),Object(d.jsx)("div",{className:"relative-container",children:s&&Object(d.jsx)(L,{closeFilters:function(){return o(!1)},region:t,setRegion:c})})]})};var E=function(){var e=Object(n.useContext)(W),t=e.name,c=e.setName,a=e.region,r=e.setRegion,s=Object(n.useContext)(J);return Object(d.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(d.jsxs)("div",{className:"relative-container",children:[Object(d.jsx)(w,{name:t,setName:c}),Object(d.jsx)("img",{className:"search-img",src:"resources/images/".concat(s===U.LIGHT?"gray":"white","-search-icon.svg"),alt:"magnifying glass"})]}),Object(d.jsx)(P,{region:a,setRegion:r})]})};var T=function(e){var t=e.pageNumber,c=e.isActive,a=e.updateCurrentPage,r=Object(n.useContext)(J);return Object(d.jsx)("li",{children:Object(d.jsx)("button",{className:"page page--clickable".concat(c?" active-page":""," bg--").concat(r),onClick:function(){return a(t)},children:t})})},I=c(36);var R=function(e){var t=e.updateCurrentPage,c=e.currentPage,a=e.isDisabled,r=Object(n.useContext)(J);return Object(d.jsx)("li",{children:Object(d.jsx)("button",{className:"page".concat(a?"":" page--clickable"," bg--").concat(r),onClick:function(){return t(c-1)},disabled:a,style:{cursor:"".concat(a?"auto":"pointer")},children:Object(d.jsx)("img",{src:"/resources/images/".concat(r===U.LIGHT?"black":"white"," previous page button.svg"),alt:"left arrow"})})})};var S=function(e){var t=e.updateCurrentPage,c=e.currentPage,a=e.isDisabled,r=Object(n.useContext)(J);return Object(d.jsx)("li",{children:Object(d.jsx)("button",{className:"page".concat(a?"":" page--clickable"," bg--").concat(r),onClick:function(){return t(c+1)},disabled:a,style:{cursor:"".concat(a?"auto":"pointer")},children:Object(d.jsx)("img",{src:"/resources/images/".concat(r===U.LIGHT?"black":"white"," next page button.svg"),alt:"right arrow"})})})};var A=function(e){var t=e.currentPage,c=e.totalPages,n=e.updateCurrentPage;return Object(d.jsxs)("ul",{className:"pages__list",children:[Object(d.jsx)(R,{isDisabled:1===t,currentPage:t,updateCurrentPage:n}),function(){var e=[];if(t+2>c)for(var n=c-2;n<=c;n++)n>0&&e.push(n);else for(var a=t;a<=t+2;a++)e.push(a);return e}().map((function(e){return Object(d.jsx)(T,{pageNumber:e,updateCurrentPage:n,isActive:e===t},Object(I.a)())})),Object(d.jsx)(S,{isDisabled:t===c,currentPage:t,updateCurrentPage:n})]})};var D=function(e){var t=e.totalItems,c=e.itemsPerPage,a=e.currentPage,r=e.updateCurrentPage,s=function(){return Math.ceil(t/c)};return Object(d.jsx)(n.Fragment,{children:s()<=1?null:Object(d.jsxs)("div",{className:"pages",children:[Object(d.jsx)(A,{currentPage:a,totalPages:s(),updateCurrentPage:r}),Object(d.jsxs)("p",{className:"pages__info",children:["Page ",a," of ",s()]})]})})};var H=function(){return Object(d.jsx)("h2",{className:"no-results-msg",children:"No Matches"})};var G=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=function(){window.pageYOffset>=1200&&a(!0),window.pageYOffset<1200&&a(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),Object(d.jsx)(n.Fragment,{children:c&&Object(d.jsx)("button",{className:"scroll-top-btn",onClick:function(){return window.scrollTo({top:0,left:0,behavior:"smooth"})},children:Object(d.jsx)("img",{src:"/resources/images/scroll top button.svg",alt:"upward arrow"})})})};var F=function(){var e=Object(n.useContext)(V),t=Object(n.useContext)(W),c=t.name,a=t.region,r=Object(n.useState)(1),s=Object(l.a)(r,2),o=s[0],i=s[1];Object(n.useEffect)((function(){return i(1)}),[c,a]),Object(n.useEffect)((function(){1!==o&&document.querySelector(".pages").scrollIntoView()}),[o]);var u=function(){return""===c&&a===z.All},j=function(){var t=c.split(" ").filter((function(e){return e})).join(" ");return u()?e:a===z.All?e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())&&e.region===a}))}();return Object(d.jsx)("main",{className:"main--home",children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(E,{}),j.length<=0?Object(d.jsx)(H,{}):Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(C,{countries:function(){var e=function(){return 40*(o-1)};return j.slice(e(),e()+40)}()}),Object(d.jsx)(D,{totalItems:j.length,itemsPerPage:40,currentPage:o,updateCurrentPage:i})]}),Object(d.jsx)(G,{})]})})};var K=function(){var e=Object(b.f)().pathname;return Object(n.useEffect)((function(){return window.scrollTo(0,0)}),[e]),null};var M=function(){return Object(d.jsxs)(j.a,{children:[Object(d.jsx)(K,{}),Object(d.jsxs)(b.c,{children:[Object(d.jsx)(b.a,{path:"/country details/:countryCode",children:Object(d.jsx)(_,{})}),Object(d.jsx)(b.a,{path:"/",children:Object(d.jsx)(F,{})})]})]})};var q=function(e){var t=e.toggleTheme,c=Object(n.useContext)(J);return Object(d.jsxs)("button",{className:"toggle-theme-btn",onClick:t,children:[Object(d.jsx)("img",{src:"/resources/images/".concat(c===U.LIGHT?"moon":"sun",".svg"),alt:"moon"}),Object(d.jsxs)("span",{children:[c===U.LIGHT?"Dark":"Light"," Mode"]})]})};var B=function(e){var t=e.toggleTheme,c=Object(n.useContext)(J);return Object(d.jsx)("header",{className:"elements-bg--".concat(c,"-theme"),children:Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsxs)("div",{className:"flex",children:[Object(d.jsx)("h2",{children:"Where in the world?"}),Object(d.jsx)(q,{toggleTheme:t})]})})})},J=a.a.createContext(),U={LIGHT:"light",DARK:"dark"};var Y=function(){var e=Object(n.useState)(localStorage.getItem("theme")||U.LIGHT),t=Object(l.a)(e,2),c=t[0],a=t[1];return Object(d.jsx)("div",{className:"text-color--".concat(c,"-theme bg--").concat(c,"-theme top-parent"),children:Object(d.jsxs)(J.Provider,{value:c,children:[Object(d.jsx)(B,{toggleTheme:function(){var e=c===U.LIGHT?U.DARK:U.LIGHT;a(e),localStorage.setItem("theme",e)}}),Object(d.jsx)(M,{})]})})},V=(c(33),a.a.createContext()),W=a.a.createContext(),z={All:"All Regions",Africa:"Africa",Americas:"Americas",Oceania:"Oceania",Asia:"Asia",Europe:"Europe"};var Q=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],j=s[1],b=Object(n.useState)(z.All),m=Object(l.a)(b,2),O=m[0],h=m[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://restcountries.eu/rest/v2/all?fields=alpha3Code;name;nativeName;population;region;subregion;capital;topLevelDomain;currencies;languages;borders;flag");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a(c.filter((function(e){return"ISR"!==e.alpha3Code}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(d.jsx)(n.Fragment,{children:null===c?null:Object(d.jsx)(V.Provider,{value:c,children:Object(d.jsx)(W.Provider,{value:{name:o,setName:j,region:O,setRegion:h},children:Object(d.jsx)(Y,{})})})})};s.a.render(Object(d.jsx)(Q,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5a7d6a78.chunk.js.map
(this["webpackJsonpcountries-api"]=this["webpackJsonpcountries-api"]||[]).push([[0],{37:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(14),s=c.n(a),o=c(10),i=c(2),u=c(9),l=c(4),j=c(0);var b=function(){var e=Object(i.c)((function(e){return e.theme}));return Object(j.jsxs)(u.b,{to:"/",className:"home-btn elements-bg--".concat(e,"-theme"),children:[Object(j.jsx)("img",{src:"/resources/images/".concat(e===q.LIGHT?"black":"white"," back arrow.svg"),alt:"back arrow"}),Object(j.jsx)("span",{children:"Home"})]})};var d=function(e){var t=e.flag,c=e.countryName;return Object(j.jsx)("div",{className:"country__flag",children:Object(j.jsx)("img",{src:t,alt:"Flag of ".concat(c)})})};var m=function(e){var t=e.countryCode,c=e.children;return Object(j.jsx)(u.b,{to:"/country details/".concat(t),children:c})};var O=function(e){var t=e.name,c=e.code,n=Object(i.c)((function(e){return e.theme}));return Object(j.jsx)("li",{className:"country__neighbour elements-bg--".concat(n,"-theme"),children:Object(j.jsx)(m,{countryCode:c,children:t})})};var h=function(e){var t=e.borderCountries,c=Object(i.c)((function(e){return e.countries}));return Object(j.jsx)("ul",{className:"country__neighbours__list",children:c.filter((function(e){return t.includes(e.alpha3Code)})).map((function(e){return Object(j.jsx)(O,{name:e.name,code:e.alpha3Code},e.alpha3Code)}))})};var f=function(e){var t=e.borderCountries;return Object(j.jsxs)("div",{className:"country__neighbours",children:[Object(j.jsx)("h3",{children:"Border Countries:"}),0===t.length?Object(j.jsx)("span",{className:"country__neighbours__empty-msg",children:" None "}):Object(j.jsx)(h,{borderCountries:t})]})};var v=function(e){var t=e.data,c=t.name,n=t.nativeName,r=t.population,a=t.region,s=t.subregion,o=t.capital,i=t.topLevelDomain,u=t.currencies,l=t.languages,b=t.borders;return Object(j.jsxs)("div",{className:"country__data",children:[Object(j.jsx)("h1",{className:"country__name",children:c}),Object(j.jsxs)("div",{className:"country__facts",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Native Name:"}),Object(j.jsx)("span",{className:"country__fact__value",children:n})]}),Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Population:"}),Object(j.jsx)("span",{className:"country__fact__value",children:r})]}),Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Region:"}),Object(j.jsx)("span",{className:"country__fact__value",children:a})]}),Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Sub Region:"}),Object(j.jsx)("span",{className:"country__fact__value",children:s})]}),Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Capital:"}),Object(j.jsx)("span",{className:"country__fact__value",children:o})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Top Level Domain:"}),Object(j.jsx)("span",{className:"country__fact__value",children:i})]}),Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Currencies:"}),Object(j.jsx)("span",{className:"country__fact__value",children:u})]}),Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Languages:"}),Object(j.jsx)("span",{className:"country__fact__value",children:l})]})]})]}),Object(j.jsx)(f,{borderCountries:b})]})};var g=function(e){var t=e.country,c=t.flag,n=t.name,r=t.population,a=t.region,s=t.subregion,o=t.capital,i=t.nativeName,u=t.topLevelDomain,l=t.currencies,b=t.languages,m=t.borders;return Object(j.jsxs)("section",{className:"country",children:[Object(j.jsx)(d,{flag:c,countryName:n}),Object(j.jsx)(v,{data:{name:n,nativeName:i,population:r.toLocaleString(),region:a,capital:o,subregion:s,topLevelDomain:u,currencies:l.map((function(e){return e.name})).join(", "),languages:b.map((function(e){return e.name})).join(", "),borders:m}})]})};var _=function(){var e=Object(i.c)((function(e){return e.countries})),t=Object(l.g)().countryCode,c=function(){return e.find((function(e){return e.alpha3Code===t}))};return Object(j.jsx)("main",{className:"main--country-details",children:Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(b,{}),c()?Object(j.jsx)(g,{country:c()}):null]})})};var x=function(e){var t=e.population,c=e.region,n=e.capital,r=e.name;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"country__name",children:r}),Object(j.jsxs)("div",{className:"country__facts",children:[Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Population:"}),Object(j.jsx)("span",{className:"country__fact__value",children:t})]}),Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Region:"}),Object(j.jsx)("span",{className:"country__fact__value",children:c})]}),Object(j.jsxs)("div",{className:"country__fact",children:[Object(j.jsx)("h3",{className:"country__fact__name",children:"Capital:"}),Object(j.jsx)("span",{className:"country__fact__value",children:n})]})]})]})};var p=function(e){var t=e.country,c=t.flag,r=t.name,a=t.population,s=t.region,o=t.capital,i=t.alpha3Code,u=Object(n.useContext)(X);return Object(j.jsx)("li",{className:"country elements-bg--".concat(u,"-theme"),children:Object(j.jsxs)(m,{countryCode:i,children:[Object(j.jsx)(d,{flag:c,countryName:r}),Object(j.jsx)(x,{population:a.toLocaleString(),region:s,capital:o,name:r})]})})};var N=function(e){var t=e.countries;return Object(j.jsx)("ul",{className:"countries-list",children:t.map((function(e){return Object(j.jsx)(p,{country:e},e.alpha3Code)}))})};var y=function(e){var t=e.name,c=e.setName,r=Object(n.useContext)(X);return Object(j.jsx)("input",{type:"text",name:"country",className:"country-input elements-bg--".concat(r,"-theme country-input--").concat(r,"-theme"),placeholder:"Search for a country...",value:t,onChange:function(e){c(e.target.value)}})};var C=function(e){var t=e.region,c=e.setRegion,n=e.selected;return Object(j.jsx)("li",{onClick:function(){return c(t)},className:n?"selected":"",role:"button",tabIndex:"0",onKeyUp:function(e){13!==e.keyCode&&"ENTER"!==e.key||c(t)},children:t})};var E=function(e){var t=e.closeFilters,c=e.region,r=e.setRegion;Object(n.useEffect)((function(){var e=function(){n()||t()},c=function(e){13!==e.keyCode&&"ENTER"!==e.key||n()||t()},n=function(){return null===document.querySelector(".main--home .region-filter-options")};return document.addEventListener("click",e),document.addEventListener("keyup",c),function(){document.removeEventListener("click",e),document.removeEventListener("keyup",c)}}),[t]);var a=Object(n.useContext)(X);return Object(j.jsx)(n.Fragment,{children:Object(j.jsx)("ul",{className:"region-filter-options elements-bg--".concat(a,"-theme"),children:Object(j.jsx)("div",{children:Object.keys(Z).map((function(e,t){return Object(j.jsx)(C,{region:Z[e],setRegion:r,selected:Z[e]===c},t)}))})})})};var T=function(e){var t=e.region,c=e.setRegion,r=Object(n.useState)(!1),a=Object(o.a)(r,2),s=a[0],i=a[1],u=Object(n.useContext)(X),l=function(){return i(!s)};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"region-filter elements-bg--".concat(u,"-theme"),onClick:l,onKeyUp:function(e){13!==e.keyCode&&"ENTER"!==e.key||l()},role:"button",tabIndex:"0",children:[Object(j.jsx)("span",{children:t}),Object(j.jsx)("img",{src:"resources/images/".concat(u===q.LIGHT?"black":"white"," down arrow.svg"),alt:"down arrow"})]}),Object(j.jsx)("div",{className:"relative-container",children:s&&Object(j.jsx)(E,{closeFilters:function(){return i(!1)},region:t,setRegion:c})})]})};var w=function(){var e=Object(n.useContext)(Q),t=e.name,c=e.setName,r=e.region,a=e.setRegion,s=Object(n.useContext)(X);return Object(j.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsxs)("div",{className:"relative-container",children:[Object(j.jsx)(y,{name:t,setName:c}),Object(j.jsx)("img",{className:"search-img",src:"resources/images/".concat(s===q.LIGHT?"gray":"white","-search-icon.svg"),alt:"magnifying glass"})]}),Object(j.jsx)(T,{region:r,setRegion:a})]})},L={FETCH_COUNTRIES:"FETCH_COUNTRIES",FILTER_COUNTRIES:"FILTER_COUNTRIES",TOGGLE_THEME:"TOGGLE_THEME",ACTIVATE_PAGE:"ACTIVATE_PAGE"};var I=function(e){return{type:L.ACTIVATE_PAGE,payload:e}};var k=function(e){var t=e.pageNumber,c=e.isActive,n=(e.updateCurrentPage,Object(i.c)((function(e){return e.theme}))),r=Object(i.b)();return Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"page page--clickable".concat(c?" active-page":""," bg--").concat(n),onClick:function(){return r(I(t))},children:t})})},P=c(41);var R=function(e){e.updateCurrentPage;var t=e.currentPage,c=e.isDisabled,n=Object(i.c)((function(e){return e.theme})),r=Object(i.b)();return Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"page".concat(c?"":" page--clickable"," bg--").concat(n),onClick:function(){return r(I(t-1))},disabled:c,style:{cursor:"".concat(c?"auto":"pointer")},children:Object(j.jsx)("img",{src:"/resources/images/".concat(n===q.LIGHT?"black":"white"," previous page button.svg"),alt:"left arrow"})})})};var A=function(e){e.updateCurrentPage;var t=e.currentPage,c=e.isDisabled,n=Object(i.c)((function(e){return e.theme})),r=Object(i.b)();return Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"page".concat(c?"":" page--clickable"," bg--").concat(n),onClick:function(){return r(I(t+1))},disabled:c,style:{cursor:"".concat(c?"auto":"pointer")},children:Object(j.jsx)("img",{src:"/resources/images/".concat(n===q.LIGHT?"black":"white"," next page button.svg"),alt:"right arrow"})})})};var S=function(e){var t=e.currentPage,c=e.totalPages;return Object(j.jsxs)("ul",{className:"pages__list",children:[Object(j.jsx)(R,{isDisabled:1===t,currentPage:t}),function(){var e=[];if(t+2>c)for(var n=c-2;n<=c;n++)n>0&&e.push(n);else for(var r=t;r<=t+2;r++)e.push(r);return e}().map((function(e){return Object(j.jsx)(k,{pageNumber:e,isActive:e===t},Object(P.a)())})),Object(j.jsx)(A,{isDisabled:t===c,currentPage:t})]})};var G=function(e){var t=e.totalItems,c=e.itemsPerPage,r=e.currentPage,a=function(){return Math.ceil(t/c)};return Object(j.jsx)(n.Fragment,{children:a()<=1?null:Object(j.jsxs)("div",{className:"pages",children:[Object(j.jsx)(S,{currentPage:r,totalPages:a()}),Object(j.jsxs)("p",{className:"pages__info",children:["Page ",r," of ",a()]})]})})};var H=function(){return Object(j.jsx)("h2",{className:"no-results-msg",children:"No Matches"})};var D=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){var e=function(){window.pageYOffset>=1200&&r(!0),window.pageYOffset<1200&&r(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),Object(j.jsx)(n.Fragment,{children:c&&Object(j.jsx)("button",{className:"scroll-top-btn",onClick:function(){return window.scrollTo({top:0,left:0,behavior:"smooth"})},children:Object(j.jsx)("img",{src:"/resources/images/scroll top button.svg",alt:"upward arrow"})})})};var F=function(){var e=Object(i.c)((function(e){return e.countries})),t=Object(i.c)((function(e){return e.activeHomePage})),c=Object(i.b)(),r=Object(n.useContext)(Q),a=r.name,s=r.region;Object(n.useEffect)((function(){return c(I(1))}),[a,s,c]),Object(n.useEffect)((function(){1!==t&&document.querySelector(".pages").scrollIntoView()}),[t]);var o=function(){return""===a&&s===Z.All},u=function(){var t=a.split(" ").filter((function(e){return e})).join(" ");return o()?e:s===Z.All?e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())&&e.region===s}))}();return Object(j.jsx)("main",{className:"main--home",children:Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(w,{}),0===e.length?null:u.length<=0?Object(j.jsx)(H,{}):Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(N,{countries:function(){var e=function(){return 40*(t-1)};return u.slice(e(),e()+40)}()}),Object(j.jsx)(G,{totalItems:u.length,itemsPerPage:40,currentPage:t})]}),Object(j.jsx)(D,{})]})})};var U=function(){var e=Object(l.f)().pathname;return Object(n.useEffect)((function(){return window.scrollTo(0,0)}),[e]),null};var M=function(){return Object(j.jsxs)(u.a,{children:[Object(j.jsx)(U,{}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/country details/:countryCode",children:Object(j.jsx)(_,{})}),Object(j.jsx)(l.a,{path:"/",children:Object(j.jsx)(F,{})})]})]})};var V=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.theme}));return Object(j.jsxs)("button",{className:"toggle-theme-btn",onClick:function(){return e(function(){var e=(localStorage.getItem("theme")||q.LIGHT)===q.LIGHT?q.DARK:q.LIGHT;return localStorage.setItem("theme",e),{type:L.TOGGLE_THEME,payload:e}}())},children:[Object(j.jsx)("img",{src:"/resources/images/".concat(t===q.LIGHT?"moon":"sun",".svg"),alt:"moon"}),Object(j.jsxs)("span",{children:[t===q.LIGHT?"Dark":"Light"," Mode"]})]})};var K=function(e){var t=e.toggleTheme,c=Object(i.c)((function(e){return e.theme}));return Object(j.jsx)("header",{className:"elements-bg--".concat(c,"-theme"),children:Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("h2",{children:"Where in the world?"}),Object(j.jsx)(V,{toggleTheme:t})]})})})},X=r.a.createContext(),q={LIGHT:"light",DARK:"dark"};var B=function(){var e=Object(i.c)((function(e){return e.theme}));return Object(j.jsx)("div",{className:"text-color--".concat(e,"-theme bg--").concat(e,"-theme top-parent"),children:Object(j.jsxs)(X.Provider,{value:e,children:[Object(j.jsx)(K,{}),Object(j.jsx)(M,{})]})})},J=(c(37),c(19)),Y=c.n(J),W=c(21);var z=function(){return function(){var e=Object(W.a)(Y.a.mark((function e(t){var c,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://restcountries.eu/rest/v2/all?fields=alpha3Code;name;nativeName;population;region;subregion;capital;topLevelDomain;currencies;languages;borders;flag");case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,t({type:L.FETCH_COUNTRIES,payload:n.filter((function(e){return"ISR"!==e.alpha3Code}))}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Q=r.a.createContext(),Z={All:"All Regions",Africa:"Africa",Americas:"Americas",Oceania:"Oceania",Asia:"Asia",Europe:"Europe"};var $=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(Z.All),s=Object(o.a)(a,2),u=s[0],l=s[1],b=Object(i.b)();return Object(n.useEffect)((function(){b(z())}),[b]),Object(j.jsx)(Q.Provider,{value:{name:c,setName:r,region:u,setRegion:l},children:Object(j.jsx)(B,{})})},ee=c(12),te=c(22),ce=localStorage.getItem("theme")||q.LIGHT;var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.TOGGLE_THEME:return t.payload;default:return e}},re=[];var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.ACTIVATE_PAGE:return t.payload;default:return e}},se=Object(ee.b)({theme:ne,countries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.FETCH_COUNTRIES:return t.payload;default:return e}},activeHomePage:ae}),oe=[te.a],ie=Object(ee.d)(se,{},Object(ee.c)(ee.a.apply(void 0,oe),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(j.jsx)(i.a,{store:ie,children:Object(j.jsx)($,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.940d6e38.chunk.js.map
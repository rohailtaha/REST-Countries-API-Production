(this["webpackJsonpcountries-api"]=this["webpackJsonpcountries-api"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(16),s=n.n(a),o=n(13),i=n.n(o),u=n(17),l=n(4),j=n(8),b=n(2),m=n(0);var d=function(){var e=Object(c.useContext)(Y);return Object(m.jsxs)(j.b,{to:"/",className:"home-btn elements-bg--".concat(e,"-theme"),children:[Object(m.jsx)("img",{src:"/resources/images/".concat(e===q.LIGHT?"black":"white"," back arrow.svg"),alt:"back arrow"}),Object(m.jsx)("span",{children:"Home"})]})};var O=function(e){var t=e.flag,n=e.countryName;return Object(m.jsx)("div",{className:"country__flag",children:Object(m.jsx)("img",{src:t,alt:"Flag of ".concat(n)})})};var h=function(e){var t=e.countryCode,n=e.children;return Object(m.jsx)(j.b,{to:"/country details/".concat(t),children:n})};var f=function(e){var t=e.name,n=e.code,r=Object(c.useContext)(Y);return Object(m.jsx)("li",{className:"country__neighbour elements-bg--".concat(r,"-theme"),children:Object(m.jsx)(h,{countryCode:n,children:t})})};var g=function(e){var t=e.borderCountries,n=Object(c.useContext)(z);return Object(m.jsx)("ul",{className:"country__neighbours__list",children:n.filter((function(e){return t.includes(e.alpha3Code)})).map((function(e){return Object(m.jsx)(f,{name:e.name,code:e.alpha3Code},e.alpha3Code)}))})};var x=function(e){var t=e.borderCountries;return Object(m.jsxs)("div",{className:"country__neighbours",children:[Object(m.jsx)("h3",{children:"Border Countries:"}),0===t.length?Object(m.jsx)("span",{className:"country__neighbours__empty-msg",children:" None "}):Object(m.jsx)(g,{borderCountries:t})]})};var v=function(e){var t=e.data,n=t.name,c=t.nativeName,r=t.population,a=t.region,s=t.subregion,o=t.capital,i=t.topLevelDomain,u=t.currencies,l=t.languages,j=t.borders;return Object(m.jsxs)("div",{className:"country__data",children:[Object(m.jsx)("h1",{className:"country__name",children:n}),Object(m.jsxs)("div",{className:"country__facts",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Native Name:"}),Object(m.jsx)("span",{className:"country__fact__value",children:c})]}),Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Population:"}),Object(m.jsx)("span",{className:"country__fact__value",children:r})]}),Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Region:"}),Object(m.jsx)("span",{className:"country__fact__value",children:a})]}),Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Sub Region:"}),Object(m.jsx)("span",{className:"country__fact__value",children:s})]}),Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Capital:"}),Object(m.jsx)("span",{className:"country__fact__value",children:o})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Top Level Domain:"}),Object(m.jsx)("span",{className:"country__fact__value",children:i})]}),Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Currencies:"}),Object(m.jsx)("span",{className:"country__fact__value",children:u})]}),Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Languages:"}),Object(m.jsx)("span",{className:"country__fact__value",children:l})]})]})]}),Object(m.jsx)(x,{borderCountries:j})]})};var _=function(e){var t=e.country,n=t.flag,c=t.name,r=t.population,a=t.region,s=t.subregion,o=t.capital,i=t.nativeName,u=t.topLevelDomain,l=t.currencies,j=t.languages,b=t.borders;return Object(m.jsxs)("section",{className:"country",children:[Object(m.jsx)(O,{flag:n,countryName:c}),Object(m.jsx)(v,{data:{name:c,nativeName:i,population:r.toLocaleString(),region:a,capital:o,subregion:s,topLevelDomain:u,currencies:l.map((function(e){return e.name})).join(", "),languages:j.map((function(e){return e.name})).join(", "),borders:b}})]})};var p=function(){var e=Object(c.useContext)(z),t=Object(b.g)().countryCode;return Object(m.jsx)("main",{className:"main--country-details",children:Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)(d,{}),Object(m.jsx)(_,{country:e.find((function(e){return e.alpha3Code===t}))})]})})};var y=function(e){var t=e.population,n=e.region,c=e.capital,r=e.name;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"country__name",children:r}),Object(m.jsxs)("div",{className:"country__facts",children:[Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Population:"}),Object(m.jsx)("span",{className:"country__fact__value",children:t})]}),Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Region:"}),Object(m.jsx)("span",{className:"country__fact__value",children:n})]}),Object(m.jsxs)("div",{className:"country__fact",children:[Object(m.jsx)("h3",{className:"country__fact__name",children:"Capital:"}),Object(m.jsx)("span",{className:"country__fact__value",children:c})]})]})]})};var N=function(e){var t=e.country,n=t.flag,r=t.name,a=t.population,s=t.region,o=t.capital,i=t.alpha3Code,u=Object(c.useContext)(Y);return Object(m.jsx)("li",{className:"country elements-bg--".concat(u,"-theme"),children:Object(m.jsxs)(h,{countryCode:i,children:[Object(m.jsx)(O,{flag:n,countryName:r}),Object(m.jsx)(y,{population:a.toLocaleString(),region:s,capital:o,name:r})]})})};var C=function(e){var t=e.countries;return Object(m.jsx)("ul",{className:"countries-list",children:t.map((function(e){return Object(m.jsx)(N,{country:e},e.alpha3Code)}))})};var w=function(e){var t=e.countryInput,n=Object(c.useContext)(Y);return Object(m.jsx)("input",{type:"text",name:"country",className:"country-input elements-bg--".concat(n,"-theme country-input--").concat(n,"-theme"),placeholder:"Search for a country...",ref:t})};var P=function(e){var t=e.region,n=e.setRegion,c=e.selected;return Object(m.jsx)("li",{onClick:function(){return n(t)},className:c?"selected":"",children:t})};var k=function(e){var t=e.open,n=e.setOpen,r=e.region,a=e.setRegion;Object(c.useEffect)((function(){var e=function(){return n(!1)};return t&&document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}));var s=Object(c.useContext)(Y);return Object(m.jsx)("ul",{className:"region-filter-options elements-bg--".concat(s,"-theme"),style:{display:t?"block":"none"},children:Object(m.jsx)("div",{children:Object.keys(U).map((function(e,t){return Object(m.jsx)(P,{region:U[e],selected:U[e]===r,setRegion:a},t)}))})})};var L=function(e){var t=e.region,n=e.setRegion,r=Object(c.useState)(!1),a=Object(l.a)(r,2),s=a[0],o=a[1],i=Object(c.useContext)(Y);return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"region-filter elements-bg--".concat(i,"-theme"),onClick:function(){return o(!s)},children:[Object(m.jsx)("span",{children:t}),Object(m.jsx)("img",{src:"resources/images/".concat(i===q.LIGHT?"black":"white"," down arrow.svg"),alt:"down arrow"})]}),Object(m.jsx)("div",{className:"relative-container",children:Object(m.jsx)(k,{open:s,setOpen:o,region:t,setRegion:n})})]})};var S=function(){var e=Object(c.useState)(U.All),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useRef)(),s=Object(c.useContext)(Q),o=s.__setCountryForm,i=s.countryForm;Object(c.useEffect)((function(){i.inDefaultState&&(a.current.value="",r(U.All))}),[i.inDefaultState]),Object(c.useEffect)((function(){a.current.value=i.name,r(i.region)}),[i.name,i.region]);var u=function(){return""===a.current.value&&n===U.All};return Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o({name:a.current.value,region:n,inDefaultState:u()})},children:[Object(m.jsxs)("div",{className:"relative-container",children:[Object(m.jsx)(w,{countryInput:a}),Object(m.jsx)("button",{className:"search-img",type:"submit",children:Object(m.jsx)("img",{src:"resources/images/search icon.svg",alt:"magnifying glass"})})]}),Object(m.jsx)(L,{setRegion:r,region:n})]})};var A=function(){var e=Object(c.useContext)(Q).resetCountryForm;return Object(m.jsx)("button",{className:"all-countries-btn",onClick:e,children:"View All Countries"})};var D=function(e){var t=e.pageNumber,n=e.isActive,r=e.updateCurrentPage,a=Object(c.useContext)(Y);return Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:"page page--clickable".concat(n?" active-page":""," bg--").concat(a),onClick:function(){return r(t)},children:t})})},I=n(36);var T=function(e){var t=e.updateCurrentPage,n=e.currentPage,r=e.isDisabled,a=Object(c.useContext)(Y);return Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:"page".concat(r?"":" page--clickable"," bg--").concat(a),onClick:function(){return t(n-1)},disabled:r,style:{cursor:"".concat(r?"auto":"pointer")},children:Object(m.jsx)("img",{src:"/resources/images/".concat(a===q.LIGHT?"black":"white"," previous page button.svg"),alt:"left arrow"})})})};var E=function(e){var t=e.updateCurrentPage,n=e.currentPage,r=e.isDisabled,a=Object(c.useContext)(Y);return Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:"page".concat(r?"":" page--clickable"," bg--").concat(a),onClick:function(){return t(n+1)},disabled:r,style:{cursor:"".concat(r?"auto":"pointer")},children:Object(m.jsx)("img",{src:"/resources/images/".concat(a===q.LIGHT?"black":"white"," next page button.svg"),alt:"right arrow"})})})};var R=function(e){var t=e.currentPage,n=e.totalPages,c=e.updateCurrentPage;return Object(m.jsxs)("ul",{className:"pages__list",children:[Object(m.jsx)(T,{isDisabled:1===t,currentPage:t,updateCurrentPage:c}),function(){var e=[];if(t+2>n)for(var c=n-2;c<=n;c++)c>0&&e.push(c);else for(var r=t;r<=t+2;r++)e.push(r);return e}().map((function(e){return Object(m.jsx)(D,{pageNumber:e,updateCurrentPage:c,isActive:e===t},Object(I.a)())})),Object(m.jsx)(E,{isDisabled:t===n,currentPage:t,updateCurrentPage:c})]})};var F=function(e){var t=e.totalItems,n=e.itemsPerPage,r=e.currentPage,a=e.updateCurrentPage,s=function(){return Math.ceil(t/n)};return Object(m.jsx)(c.Fragment,{children:s()<=1?null:Object(m.jsxs)("div",{className:"pages",children:[Object(m.jsx)(R,{currentPage:r,totalPages:s(),updateCurrentPage:a}),Object(m.jsxs)("p",{className:"pages__info",children:["Page ",r," of ",s()]})]})})};var H=function(){return Object(m.jsx)("h2",{className:"no-results-msg",children:"No Matches"})};var G=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(){window.pageYOffset>=1200&&r(!0),window.pageYOffset<1200&&r(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),Object(m.jsx)(c.Fragment,{children:n&&Object(m.jsx)("button",{className:"scroll-top-btn",onClick:function(){return window.scrollTo({top:0,left:0,behavior:"smooth"})},children:Object(m.jsx)("img",{src:"/resources/images/scroll top button.svg",alt:"upward arrow"})})})};var M=function(){var e=Object(c.useContext)(z),t=Object(c.useContext)(Q).countryForm,n=Object(c.useState)(1),r=Object(l.a)(n,2),a=r[0],s=r[1],o=function(){return""===t.name&&t.region===U.All},i=function(){var n=t.name,c=t.region;return o()?e:c===U.All?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())&&e.region===c}))}();return Object(c.useEffect)((function(){return s(1)}),[t.name,t.region]),Object(c.useEffect)((function(){1!==a&&document.querySelector(".pages").scrollIntoView()}),[a]),Object(m.jsx)("main",{className:"main--home",children:Object(m.jsxs)("div",{className:"wrapper",children:[o()?null:Object(m.jsx)(A,{}),Object(m.jsx)(S,{}),i.length<=0?Object(m.jsx)(H,{}):Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(C,{countries:function(){var e=function(){return 40*(a-1)};return i.slice(e(),e()+40)}()}),Object(m.jsx)(F,{totalItems:i.length,itemsPerPage:40,currentPage:a,updateCurrentPage:s})]}),Object(m.jsx)(G,{})]})})};var B=function(){var e=Object(b.f)().pathname;return Object(c.useEffect)((function(){return window.scrollTo(0,0)}),[e]),null};var J=function(){return Object(m.jsxs)(j.a,{children:[Object(m.jsx)(B,{}),Object(m.jsxs)(b.c,{children:[Object(m.jsx)(b.a,{path:"/country details/:countryCode",children:Object(m.jsx)(p,{})}),Object(m.jsx)(b.a,{path:"/",children:Object(m.jsx)(M,{})})]})]})};var K=function(e){var t=e.toggleTheme,n=Object(c.useContext)(Y);return Object(m.jsxs)("button",{className:"toggle-theme-btn",onClick:t,children:[Object(m.jsx)("img",{src:"/resources/images/".concat(n===q.LIGHT?"moon":"sun",".svg"),alt:"moon"}),Object(m.jsxs)("span",{children:[n===q.LIGHT?"Dark":"Light"," Mode"]})]})};var V=function(e){var t=e.toggleTheme,n=Object(c.useContext)(Y);return Object(m.jsx)("header",{className:"elements-bg--".concat(n,"-theme"),children:Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("h2",{children:"Where in the world?"}),Object(m.jsx)(K,{toggleTheme:t})]})})})},Y=r.a.createContext(),q={LIGHT:"light",DARK:"dark"};var W=function(){var e=Object(c.useState)(localStorage.getItem("theme")||q.LIGHT),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)("div",{className:"text-color--".concat(n,"-theme bg--").concat(n,"-theme top-parent"),children:Object(m.jsxs)(Y.Provider,{value:n,children:[Object(m.jsx)(V,{toggleTheme:function(){var e=n===q.LIGHT?q.DARK:q.LIGHT;r(e),localStorage.setItem("theme",e)}}),Object(m.jsx)(J,{})]})})},z=(n(33),r.a.createContext()),Q=r.a.createContext(),U={All:"All Regions",Africa:"Africa",Americas:"Americas",Oceania:"Oceania",Asia:"Asia",Europe:"Europe"};var X=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)({name:"",region:U.All,inDefaultState:!0}),s=Object(l.a)(a,2),o=s[0],j=s[1];return Object(c.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://restcountries.eu/rest/v2/all?fields=alpha3Code;name;nativeName;population;region;subregion;capital;topLevelDomain;currencies;languages;borders;flag");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n.filter((function(e){return"ISR"!==e.alpha3Code}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsx)(c.Fragment,{children:null===n?null:Object(m.jsx)(z.Provider,{value:n,children:Object(m.jsx)(Q.Provider,{value:{countryForm:o,__setCountryForm:function(e){var t=e.name,n=e.region,c=e.inDefaultState;return j({name:t,region:n,inDefaultState:c})},resetCountryForm:function(){return j({name:"",region:U.All,inDefaultState:!0})}},children:Object(m.jsx)(W,{})})})})};s.a.render(Object(m.jsx)(X,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a1c83dad.chunk.js.map